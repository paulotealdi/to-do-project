(()=>{"use strict";function e(e){return e.find((e=>!0===e.active))}function t(e){document.querySelector("#modal-background").classList.toggle("closed"),e.classList.toggle("closed")}const o=function(o){const d=function(t){return e(t).todoList}(o),n=e(o);if(null==n)return;const c=document.createElement("div"),i=document.createElement("h3");c.classList.add("priority-div"),i.innerText="High Priority",c.appendChild(i);const r=document.createElement("div"),a=document.createElement("h3");r.classList.add("priority-div"),a.innerText="Medium Priority",r.appendChild(a);const l=document.createElement("div"),s=document.createElement("h3");l.classList.add("priority-div"),s.innerText="Low Priority",l.appendChild(s);const u=document.querySelector("#todos-wrapper");u.innerHTML="";const p=document.createElement("div");p.id="todos-menu-div";const m=document.createElement("h3");m.innerText=n.name,m.classList.add("title");const h=document.createElement("span");if(h.innerText=`${d.length} ToDo's in this project`,p.appendChild(m),p.appendChild(h),u.appendChild(p),0===d.length){const e=document.createElement("h3");e.id="empty-text",e.innerText="Empty To-Do list!",u.appendChild(e)}d.forEach(((e,o)=>{const d=document.createElement("div");d.classList.add("todo-div");const n=document.createElement("div"),i=document.createElement("h3");n.classList.add("title"),n.classList.add("todo-title-div");const a=document.createElement("div"),s=document.createElement("p");a.classList.add("todo-description-div");const p=document.createElement("div"),m=document.createElement("span");p.classList.add("todo-duedate-div");const h=document.createElement("input");h.type="checkbox",h.classList.add("todo-checkbox"),h.addEventListener("change",(t=>{t.stopPropagation(),e.finished=!e.finished,t.target.parentNode.classList.toggle("finished-todo")})),e.finished&&(d.classList.add("finished-todo"),h.checked=!0),i.innerText=e.title,s.innerText=e.description,m.innerText=`Duedate: ${e.duedate}`,n.appendChild(i),a.appendChild(s),p.appendChild(m),d.appendChild(h),d.appendChild(n),d.appendChild(a),d.appendChild(p),"High"===e.priority?c.appendChild(d):"Medium"===e.priority?r.appendChild(d):"Low"===e.priority&&l.appendChild(d),d.addEventListener("click",(()=>function(e,o){const d=document.querySelector("#change-todo-wrapper");d.setAttribute("data-id",o);const n=document.querySelector("#todo-title-edit"),c=document.querySelector("#todo-description-edit"),i=document.querySelector("#todo-priority-edit"),r=e.title,a=e.description,l=e.priority;n.value=r,c.value=a,i.value=l,t(d)}(e,o))),u.appendChild(c),u.appendChild(r),u.appendChild(l)}))},d=function t(d){const n=document.querySelector("#projects");n.innerHTML="",function(e){return e.map((e=>e.name))}(d).forEach(((e,o)=>{const c=document.createElement("div");c.id=o;const i=document.createElement("span");i.innerText="X",i.classList.add("delete-project-button"),i.classList.add("close-button"),i.addEventListener("click",(e=>{e.stopPropagation(),!0===d[o].active&&(d[o].active=!1,function(){const e=document.querySelector("#todos-wrapper");document.querySelector("#create-todo").disabled=!0,e.innerHTML="";const t=document.createElement("h3");t.innerText="Select or create a project to show it's To-Do's!",t.id="default-screen-text",e.appendChild(t)}()),d.splice(o,1),t(d)})),c.classList.add("project-div");const r=document.createElement("span");r.innerText=e,c.appendChild(r),c.appendChild(i),n.appendChild(c)})),function(t){document.querySelectorAll(".project-div").forEach((d=>{d.addEventListener("click",(d=>{const n=d.target.id,c=e(t);void 0!==c&&(c.active=!1),t[n].active=!0,o(t),document.querySelector("#create-todo").disabled=!1}))}))}(d)},n=[{name:"default",active:!1,todoList:[]},{name:"main",active:!0,todoList:[]}];document.querySelector("#submit-todo").addEventListener("click",(()=>{!function(){const t={title:document.querySelector("#todo-title").value||"Empty ğŸ˜”",description:document.querySelector("#todo-description").value||"Empty ğŸ˜”",duedate:document.querySelector("#todo-duedate").value||"Empty ğŸ˜”",priority:document.querySelector("#todo-priority").value||"Empty ğŸ˜”",project:"default",finished:!1};e(n).todoList.push(t)}(),o(n)})),document.querySelector("#submit-project").addEventListener("click",(()=>{!function(){const e={name:document.querySelector("#project-name").value||"Empty ğŸ˜”",active:!1,todoList:[]};n.push(e)}(),d(n)})),document.querySelector("#change-todo").addEventListener("click",(t=>{const d=t.target.parentNode.getAttribute("data-id");!function(e,t){const o=document.querySelector("#todo-title-edit"),d=document.querySelector("#todo-description-edit"),n=document.querySelector("#todo-priority-edit"),c=document.querySelector("#todo-duedate-edit");e[t].title=o.value,e[t].description=d.value,e[t].priority=n.value,e[t].duedate=c.value}(e(n).todoList,d),o(n)})),d(n),o(n),function(){const e=document.querySelector("#create-todo-wrapper");document.querySelector("#create-todo").addEventListener("click",(()=>t(e)))}(),function(){const e=document.querySelector("#create-project"),o=document.querySelector("#create-project-wrapper");e.addEventListener("click",(()=>t(o)))}(),document.querySelectorAll(".close-button-modal").forEach((e=>{e.addEventListener("click",(e=>{t(e.target.parentNode)}))}))})();